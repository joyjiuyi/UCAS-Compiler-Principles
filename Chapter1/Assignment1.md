# 编译原理 第 1 章 作业 1

## 练习 1.1.2
编译器相对于解释器的优点是什么？解释器向对于编译器的优点是什么？

### 解
编译器相对于解释器的优点有：
* 编译器一次性将源程序全部翻译成目标程序，目标程序可直接在机器运行。
* 源程序只需要编译一次，目标程序可以反复运行，而解释器运行源程序每次都要重新进行翻译。
* 执行编译后的目标程序比相对于解释器运行源程序更快。

解释器向对于编译器的优点有：
* 解释器运行源程序省去了编译的步骤，使用更简单。
* 解释器更适于一套源程序在不同架构的机器上运行。
* 解释器可以实现交互式编程，也更易给出对程序员友好的错误诊断。


## 练习 1.1.3
在一个语言处理系统中，编译器产生汇编语言而不是机器语言的好处是什么？

### 解
* 可沿用已有的汇编器，降低语言处理系统的复杂度。
* 汇编语言的可读性比机器语言更好，方便调试。


## 练习 1.6.1
对下图中的块结构的 C 代码，指出赋给 `w`、`x`、`y` 和 `z` 的值
```c
int w, x, y, z;
int i = 4; int j = 5;
{   int j = 7;
    i = 6;
    w = i + j;
}
x = i + j;
{   int i = 8;
    y = i + j;
}
z = i + j;
```

### 解
赋给 `w`、`x`、`y` 和 `z` 的值分别为：
* `w = 13`
* `x = 11`
* `y = 13`
* `z = 11`

过程如下：
| 语句                    |    `i`    | `i'`  |    `j`    | `j'`  |  `w`  |  `x`  |  `y`  |  `z`  |
| :---------------------- | :-------: | :---: | :-------: | :---: | :---: | :---: | :---: | :---: |
| `int w, x, y, z;`       |           |       |           |       |       |       |       |       |
| `int i = 4; int j = 5;` |    `4`    |       |    `5`    |       |       |       |       |       |
| `{`                     |    `4`    |       |    `5`    |       |       |       |       |       |
| `int j = 7;`            |    `4`    |       | ~~*`5`*~~ |  `7`  |       |       |       |       |
| `i = 6;`                |    `6`    |       | ~~*`5`*~~ |  `7`  |       |       |       |       |
| `w = i + j;`            |    `6`    |       | ~~*`5`*~~ |  `7`  | `13`  |       |       |       |
| `}`                     |    `6`    |       |    `5`    |       | `13`  |       |       |       |
| `x = i + j;`            |    `6`    |       |    `5`    |       | `13`  | `11`  |       |       |
| `{`                     |    `6`    |       |    `5`    |       | `13`  | `11`  |       |       |
| `int i = 8;`            | ~~*`6`*~~ |  `8`  |    `5`    |       | `13`  | `11`  |       |       |
| `y = i + j;`            | ~~*`6`*~~ |  `8`  |    `5`    |       | `13`  | `11`  | `13`  |       |
| `}`                     |    `6`    |       |    `5`    |       | `13`  | `11`  | `13`  |       |
| `z = i + j;`            |    `6`    |       |    `5`    |       | `13`  | `11`  | `13`  | `11`  |


## 练习1.6.2
对下图中的块结构的 C 代码，指出赋给 `w`、`x`、`y` 和 `z` 的值
```c
int w, x, y, z;
int i = 3; int j = 4;
{   int i = 5;
    w = i + j;
}
x = i + j;
{   int j = 6;
    i = 7;
    y = i + j;
}
z = i + j;
```

### 解
赋给 `w`、`x`、`y` 和 `z` 的值分别为：
* `w = 9`
* `x = 7`
* `y = 13`
* `z = 11`

过程如下：
| 语句                    |    `i`    | `i'`  |    `j`    | `j'`  |  `w`  |  `x`  |  `y`  |  `z`  |
| :---------------------- | :-------: | :---: | :-------: | :---: | :---: | :---: | :---: | :---: |
| `int w, x, y, z;`       |           |       |           |       |       |       |       |       |
| `int i = 3; int j = 4;` |    `3`    |       |    `4`    |       |       |       |       |       |
| `{`                     |    `3`    |       |    `4`    |       |       |       |       |       |
| `int i = 5;`            | ~~*`3`*~~ |  `5`  |    `4`    |       |       |       |       |       |
| `w = i + j;`            | ~~*`3`*~~ |  `5`  |    `4`    |       |  `9`  |       |       |       |
| `}`                     |    `3`    |       |    `4`    |       |  `9`  |       |       |       |
| `x = i + j;`            |    `3`    |       |    `4`    |       |  `9`  |  `7`  |       |       |
| `{`                     |    `3`    |       |    `4`    |       |  `9`  |  `7`  |       |       |
| `int j = 6;`            |    `3`    |       | ~~*`4`*~~ |  `6`  |  `9`  |  `7`  |       |       |
| `i = 7;`                |    `7`    |       | ~~*`4`*~~ |  `6`  |  `9`  |  `7`  |       |       |
| `y = i + j;`            |    `7`    |       | ~~*`4`*~~ |  `6`  |  `9`  |  `7`  | `13`  |       |
| `}`                     |    `7`    |       |    `4`    |       |  `9`  |  `7`  | `13`  |       |
| `z = i + j;`            |    `7`    |       |    `4`    |       |  `9`  |  `7`  | `13`  | `11`  |

## 练习1.6.4
下面的 C 代码的打印结果是什么？
```c
#define a (x+1)
int x = 2;
void b( ) { x = a; printf("%d\n", x); }
void c( ) { int x = 1; printf("%d\n", a); }
void main( ) { b( ); c( ); }
```

### 解
打印结果是：
```
3
2

```

过程如下：
* 预处理后：
  ```c
  int x = 2;
  void b( ) { x = (x+1); printf("%d\n", x); }
  void c( ) { int x = 1; printf("%d\n", (x+1)); }
  void main( ) { b( ); c( ); }
  ```
* 执行过程：从 `main` 函数开始
  1. 执行函数 `b`
     1. `x = (x+1)`：全局变量 `x` 被赋值为 `3`
     2. `printf("%d\n", x);`：输出全局变量 `x` 的值 `3`
  2. 执行函数 `c`
     1. `int x = 1;`：声明局部变量 `x`，并赋值为 `1`
     2. `printf("%d\n", (x+1));`：输出 `(x+1)` 的结果 `2`。其中 `x` 为局部变量（值为 `1`）

